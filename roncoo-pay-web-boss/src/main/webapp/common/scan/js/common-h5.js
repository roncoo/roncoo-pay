/* Zepto v1.1.6 - zepto event ajax form ie - zeptojs.com/license */
var Zepto=function(){function L(t){return null==t?String(t):j[S.call(t)]||"object"}function Z(t){return"function"==L(t)}function _(t){return null!=t&&t==t.window}function $(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function D(t){return"object"==L(t)}function M(t){return D(t)&&!_(t)&&Object.getPrototypeOf(t)==Object.prototype}function R(t){return"number"==typeof t.length}function k(t){return s.call(t,function(t){return null!=t})}function z(t){return t.length>0?n.fn.concat.apply([],t):t}function F(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function q(t){return t in f?f[t]:f[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function H(t,e){return"number"!=typeof e||c[F(t)]?e:e+"px"}function I(t){var e,n;return u[t]||(e=a.createElement(t),a.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),u[t]=n),u[t]}function V(t){return"children"in t?o.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function B(n,i,r){for(e in i)r&&(M(i[e])||A(i[e]))?(M(i[e])&&!M(n[e])&&(n[e]={}),A(i[e])&&!A(n[e])&&(n[e]=[]),B(n[e],i[e],r)):i[e]!==t&&(n[e]=i[e])}function U(t,e){return null==e?n(t):n(t).filter(e)}function J(t,e,n,i){return Z(e)?e.call(t,n,i):e}function X(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function W(e,n){var i=e.className||"",r=i&&i.baseVal!==t;return n===t?r?i.baseVal:i:void(r?i.baseVal=n:e.className=n)}function Y(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function G(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)G(t.childNodes[n],e)}var t,e,n,i,C,N,r=[],o=r.slice,s=r.filter,a=window.document,u={},f={},c={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},l=/^\s*<(\w+|!)[^>]*>/,h=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,d=/^(?:body|html)$/i,m=/([A-Z])/g,g=["val","css","html","text","data","width","height","offset"],v=["after","prepend","before","append"],y=a.createElement("table"),x=a.createElement("tr"),b={tr:a.createElement("tbody"),tbody:y,thead:y,tfoot:y,td:x,th:x,"*":a.createElement("div")},w=/complete|loaded|interactive/,E=/^[\w-]*$/,j={},S=j.toString,T={},O=a.createElement("div"),P={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},A=Array.isArray||function(t){return t instanceof Array};return T.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=O).appendChild(t),i=~T.qsa(r,e).indexOf(t),o&&O.removeChild(t),i},C=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},N=function(t){return s.call(t,function(e,n){return t.indexOf(e)==n})},T.fragment=function(e,i,r){var s,u,f;return h.test(e)&&(s=n(a.createElement(RegExp.$1))),s||(e.replace&&(e=e.replace(p,"<$1></$2>")),i===t&&(i=l.test(e)&&RegExp.$1),i in b||(i="*"),f=b[i],f.innerHTML=""+e,s=n.each(o.call(f.childNodes),function(){f.removeChild(this)})),M(r)&&(u=n(s),n.each(r,function(t,e){g.indexOf(t)>-1?u[t](e):u.attr(t,e)})),s},T.Z=function(t,e){return t=t||[],t.__proto__=n.fn,t.selector=e||"",t},T.isZ=function(t){return t instanceof T.Z},T.init=function(e,i){var r;if(!e)return T.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&l.test(e))r=T.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=T.qsa(a,e)}else{if(Z(e))return n(a).ready(e);if(T.isZ(e))return e;if(A(e))r=k(e);else if(D(e))r=[e],e=null;else if(l.test(e))r=T.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=T.qsa(a,e)}}return T.Z(r,e)},n=function(t,e){return T.init(t,e)},n.extend=function(t){var e,n=o.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){B(t,n,e)}),t},T.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],s=i||r?e.slice(1):e,a=E.test(s);return $(t)&&a&&i?(n=t.getElementById(s))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:o.call(a&&!i?r?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=a.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=L,n.isFunction=Z,n.isWindow=_,n.isArray=A,n.isPlainObject=M,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return r.indexOf.call(e,t,n)},n.camelCase=C,n.trim=function(t){return null==t?"":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.map=function(t,e){var n,r,o,i=[];if(R(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return z(i)},n.each=function(t,e){var n,i;if(R(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},n.grep=function(t,e){return s.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){j["[object "+e+"]"]=e.toLowerCase()}),n.fn={forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,indexOf:r.indexOf,concat:r.concat,map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(o.apply(this,arguments))},ready:function(t){return w.test(a.readyState)&&a.body?t(n):a.addEventListener("DOMContentLoaded",function(){t(n)},!1),this},get:function(e){return e===t?o.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return r.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return Z(t)?this.not(this.not(t)):n(s.call(this,function(e){return T.matches(e,t)}))},add:function(t,e){return n(N(this.concat(n(t,e))))},is:function(t){return this.length>0&&T.matches(this[0],t)},not:function(e){var i=[];if(Z(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r="string"==typeof e?this.filter(e):R(e)&&Z(e.item)?o.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return D(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!D(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!D(t)?t:n(t)},find:function(t){var e,i=this;return e=t?"object"==typeof t?n(t).filter(function(){var t=this;return r.some.call(i,function(e){return n.contains(e,t)})}):1==this.length?n(T.qsa(this[0],t)):this.map(function(){return T.qsa(this,t)}):n()},closest:function(t,e){var i=this[0],r=!1;for("object"==typeof t&&(r=n(t));i&&!(r?r.indexOf(i)>=0:T.matches(i,t));)i=i!==e&&!$(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){return(t=t.parentNode)&&!$(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return U(e,t)},parent:function(t){return U(N(this.pluck("parentNode")),t)},children:function(t){return U(this.map(function(){return V(this)}),t)},contents:function(){return this.map(function(){return o.call(this.childNodes)})},siblings:function(t){return U(this.map(function(t,e){return s.call(V(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=I(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=Z(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=Z(t);return this.each(function(i){var r=n(this),o=r.contents(),s=e?t.call(this,i):t;o.length?o.wrapAll(s):r.append(s)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?"none"==i.css("display"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return n(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;n(this).empty().append(J(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=J(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(n,i){var r;return"string"!=typeof n||1 in arguments?this.each(function(t){if(1===this.nodeType)if(D(n))for(e in n)X(this,e,n[e]);else X(this,n,J(this,i,t,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:t},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){X(this,t)},this)})},prop:function(t,e){return t=P[t]||t,1 in arguments?this.each(function(n){this[t]=J(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(e,n){var i="data-"+e.replace(m,"-$1").toLowerCase(),r=1 in arguments?this.attr(i,n):this.attr(i);return null!==r?Y(r):t},val:function(t){return 0 in arguments?this.each(function(e){this.value=J(this,t,e,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=J(this,t,e,i.offset()),o=i.offsetParent().offset(),s={top:r.top-o.top,left:r.left-o.left};"static"==i.css("position")&&(s.position="relative"),i.css(s)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,""),"string"==typeof t)return o.style[C(t)]||r.getPropertyValue(t);if(A(t)){var s={};return n.each(t,function(t,e){s[e]=o.style[C(e)]||r.getPropertyValue(e)}),s}}var a="";if("string"==L(t))i||0===i?a=F(t)+":"+H(t,i):this.each(function(){this.style.removeProperty(F(t))});else for(e in t)t[e]||0===t[e]?a+=F(e)+":"+H(e,t[e])+";":this.each(function(){this.style.removeProperty(F(e))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?r.some.call(this,function(t){return this.test(W(t))},q(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){i=[];var r=W(this),o=J(this,t,e,r);o.split(/\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&W(this,r+(r?" ":"")+i.join(" "))}}):this},removeClass:function(e){return this.each(function(n){if("className"in this){if(e===t)return W(this,"");i=W(this),J(this,e,n,i).split(/\s+/g).forEach(function(t){i=i.replace(q(t)," ")}),W(this,i.trim())}})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this),s=J(this,e,r,W(this));s.split(/\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n="scrollTop"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n="scrollLeft"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=d.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css("margin-top"))||0,i.left-=parseFloat(n(t).css("margin-left"))||0,r.top+=parseFloat(n(e[0]).css("border-top-width"))||0,r.left+=parseFloat(n(e[0]).css("border-left-width"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||a.body;t&&!d.test(t.nodeName)&&"static"==n(t).css("position");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,s=this[0];return r===t?_(s)?s["inner"+i]:$(s)?s.documentElement["scroll"+i]:(o=this.offset())&&o[e]:this.each(function(t){s=n(this),s.css(e,J(this,r,t,s[e]()))})}}),v.forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,o,r=n.map(arguments,function(e){return t=L(e),"object"==t||"array"==t||null==e?e:T.fragment(e)}),s=this.length>1;return r.length<1?this:this.each(function(t,u){o=i?u:u.parentNode,u=0==e?u.nextSibling:1==e?u.firstChild:2==e?u:null;var f=n.contains(a.documentElement,o);r.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!o)return n(t).remove();o.insertBefore(t,u),f&&G(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+"To":"insert"+(e?"Before":"After")]=function(e){return n(e)[t](this),this}}),T.Z.prototype=n.fn,T.uniq=N,T.deserializeValue=Y,n.zepto=T,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function l(t){return t._zid||(t._zid=e++)}function h(t,e,n,i){if(e=p(e),e.ns)var r=d(e.ns);return(s[l(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!r.test(t.ns)||n&&l(t.fn)!==l(n)||i&&t.sel!=i)})}function p(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function d(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function m(t,e){return t.del&&!u&&t.e in f||!!e}function g(t){return c[t]||u&&f[t]||t}function v(e,i,r,o,a,u,f){var h=l(e),d=s[h]||(s[h]=[]);i.split(/\s/).forEach(function(i){if("ready"==i)return t(document).ready(r);var s=p(i);s.fn=r,s.sel=a,s.e in c&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?s.fn.apply(this,arguments):void 0}),s.del=u;var l=u||r;s.proxy=function(t){if(t=j(t),!t.isImmediatePropagationStopped()){t.data=o;var i=l.apply(e,t._args==n?[t]:[t].concat(t._args));return i===!1&&(t.preventDefault(),t.stopPropagation()),i}},s.i=d.length,d.push(s),"addEventListener"in e&&e.addEventListener(g(s.e),s.proxy,m(s,f))})}function y(t,e,n,i,r){var o=l(t);(e||"").split(/\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete s[o][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function j(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(E,function(t,n){var r=i[t];e[t]=function(){return this[n]=x,r&&r.apply(i,arguments)},e[n]=b}),(i.defaultPrevented!==n?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function S(t){var e,i={originalEvent:t};for(e in t)w.test(e)||t[e]===n||(i[e]=t[e]);return j(i,t)}var n,e=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return"string"==typeof t},s={},a={},u="onfocusin"in window,f={focus:"focusin",blur:"focusout"},c={mouseenter:"mouseover",mouseleave:"mouseout"};a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",t.event={add:v,remove:y},t.proxy=function(e,n){var s=2 in arguments&&i.call(arguments,2);if(r(e)){var a=function(){return e.apply(n,s?s.concat(i.call(arguments)):arguments)};return a._zid=l(e),a}if(o(n))return s?(s.unshift(e[n],e),t.proxy.apply(null,s)):t.proxy(e[n],e);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},b=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,s,a,u,f){var c,l,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,s,a,e,f)}),h):(o(s)||r(u)||u===!1||(u=a,a=s,s=n),(r(a)||a===!1)&&(u=a,a=n),u===!1&&(u=b),h.each(function(n,r){f&&(c=function(t){return y(r,t.type,u),u.apply(this,arguments)}),s&&(l=function(e){var n,o=t(e.target).closest(s,r).get(0);return o&&o!==r?(n=t.extend(S(e),{currentTarget:o,liveFired:r}),(c||u).apply(o,[n].concat(i.call(arguments,1)))):void 0}),v(r,e,u,a,s,l||c)}))},t.fn.off=function(e,i,s){var a=this;return e&&!o(e)?(t.each(e,function(t,e){a.off(t,i,e)}),a):(o(i)||r(s)||s===!1||(s=i,i=n),s===!1&&(s=b),a.each(function(){y(this,e,s,i)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):j(e),e._args=n,this.each(function(){e.type in f&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(s,a){i=S(o(e)?t.Event(e):e),i._args=n,i.target=a,t.each(h(a,e.type||e),function(t,e){return r=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(a[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),j(n)}}(Zepto),function(t){function h(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function p(t,e,i,r){return t.global?h(e||n,i,r):void 0}function d(e){e.global&&0===t.active++&&p(e,null,"ajaxStart")}function m(e){e.global&&!--t.active&&p(e,null,"ajaxStop")}function g(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||p(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void p(e,n,"ajaxSend",[t,e])}function v(t,e,n,i){var r=n.context,o="success";n.success.call(r,t,o,e),i&&i.resolveWith(r,[t,o,e]),p(n,r,"ajaxSuccess",[e,n,t]),x(o,e,n)}function y(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),p(i,o,"ajaxError",[n,i,t||e]),x(e,n,i)}function x(t,e,n){var i=n.context;n.complete.call(i,e,t),p(n,i,"ajaxComplete",[e,n]),m(n)}function b(){}function w(t){return t&&(t=t.split(";",2)[0]),t&&(t==f?"html":t==u?"json":s.test(t)?"script":a.test(t)&&"xml")||"text"}function E(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function j(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=E(e.url,e.data),e.data=void 0)}function S(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function C(e,n,i,r){var o,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+"["+(a||"object"==o||"array"==o?n:"")+"]"),!r&&s?e.add(u.name,u.value):"array"==o||!i&&"object"==o?C(e,u,i,n):e.add(n,u)})}var i,r,e=0,n=window.document,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,s=/^(?:text|application)\/javascript/i,a=/^(?:text|application)\/xml/i,u="application/json",f="text/html",c=/^\s*$/,l=n.createElement("a");l.href=window.location.href,t.active=0,t.ajaxJSONP=function(i,r){if(!("type"in i))return t.ajax(i);var f,h,o=i.jsonpCallback,s=(t.isFunction(o)?o():o)||"jsonp"+ ++e,a=n.createElement("script"),u=window[s],c=function(e){t(a).triggerHandler("error",e||"abort")},l={abort:c};return r&&r.promise(l),t(a).on("load error",function(e,n){clearTimeout(h),t(a).off().remove(),"error"!=e.type&&f?v(f[0],l,i,r):y(null,n||"error",l,i,r),window[s]=u,f&&t.isFunction(u)&&u(f[0]),u=f=void 0}),g(l,i)===!1?(c("abort"),l):(window[s]=function(){f=arguments},a.src=i.url.replace(/\?(.+)=\?/,"?$1="+s),n.head.appendChild(a),i.timeout>0&&(h=setTimeout(function(){c("timeout")},i.timeout)),l)},t.ajaxSettings={type:"GET",beforeSend:b,success:b,error:b,complete:b,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:u,xml:"application/xml, text/xml",html:f,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var a,o=t.extend({},e||{}),s=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===o[i]&&(o[i]=t.ajaxSettings[i]);d(o),o.crossDomain||(a=n.createElement("a"),a.href=o.url,a.href=a.href,o.crossDomain=l.protocol+"//"+l.host!=a.protocol+"//"+a.host),o.url||(o.url=window.location.toString()),j(o);var u=o.dataType,f=/\?.+=\?/.test(o.url);if(f&&(u="jsonp"),o.cache!==!1&&(e&&e.cache===!0||"script"!=u&&"jsonp"!=u)||(o.url=E(o.url,"_="+Date.now())),"jsonp"==u)return f||(o.url=E(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),t.ajaxJSONP(o,s);var C,h=o.accepts[u],p={},m=function(t,e){p[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),T=S.setRequestHeader;if(s&&s.promise(S),o.crossDomain||m("X-Requested-With","XMLHttpRequest"),m("Accept",h||"*/*"),(h=o.mimeType||h)&&(h.indexOf(",")>-1&&(h=h.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(h)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&m("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(r in o.headers)m(r,o.headers[r]);if(S.setRequestHeader=m,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=b,clearTimeout(C);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==x){u=u||w(o.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==u?(1,eval)(e):"xml"==u?e=S.responseXML:"json"==u&&(e=c.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?y(n,"parsererror",S,o,s):v(e,S,o,s)}else y(S.statusText||null,S.status?"error":"abort",S,o,s)}},g(S,o)===!1)return S.abort(),y(null,"abort",S,o,s),S;if(o.xhrFields)for(r in o.xhrFields)S[r]=o.xhrFields[r];var N="async"in o?o.async:!0;S.open(o.type,o.url,N,o.username,o.password);for(r in p)T.apply(S,p[r]);return o.timeout>0&&(C=setTimeout(function(){S.onreadystatechange=b,S.abort(),y(null,"timeout",S,o,s)},o.timeout)),S.send(o.data?o.data:null),S},t.get=function(){return t.ajax(S.apply(null,arguments))},t.post=function(){var e=S.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=S.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var a,r=this,s=e.split(/\s/),u=S(e,n,i),f=u.success;return s.length>1&&(u.url=s[0],a=s[1]),u.success=function(e){r.html(a?t("<div>").html(e.replace(o,"")).find(a):e),f&&f.apply(r,arguments)},t.ajax(u),this};var T=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(T(e)+"="+T(n))},C(i,e,n),i.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto);(function(d){var e={},g=d.fn.data,b=d.camelCase,c=d.expando="Zepto"+(+new Date()),i=[];function f(m,k){var n=m[c],j=n&&e[n];if(k===undefined){return j||h(m)}else{if(j){if(k in j){return j[k]}var l=b(k);if(l in j){return j[l]}}return g.call(d(m),k)}}function h(l,k,m){var n=l[c]||(l[c]=++d.uuid),j=e[n]||(e[n]=a(l));if(k!==undefined){j[b(k)]=m}return j}function a(k){var j={};d.each(k.attributes||i,function(m,l){if(l.name.indexOf("data-")==0){j[b(l.name.replace("data-",""))]=d.zepto.deserializeValue(l.value)}});return j}d.fn.data=function(j,k){return k===undefined?d.isPlainObject(j)?this.each(function(l,m){d.each(j,function(n,o){h(m,n,o)})}):(0 in this?f(this[0],j):undefined):this.each(function(){h(this,j,k)})};d.fn.removeData=function(j){if(typeof j=="string"){j=j.split(/\s+/)}return this.each(function(){var l=this[c],k=l&&e[l];if(k){d.each(j||k,function(m){delete k[j?b(this):m]})}})};["remove","empty"].forEach(function(j){var k=d.fn[j];d.fn[j]=function(){var l=this.find("*");if(j==="remove"){l=l.add(this)}l.removeData();return k.call(this)}})})(Zepto);(function(d,f,b){var g=null,j=null,i=true;var e={tit:"提示信息",w:{"*":"不能为空！","*6-16":"请填写6到16位任意字符！",n:"请填写数字！","n6-16":"请填写6到16位数字！",s:"不能输入特殊字符！","s6-18":"请填写6到18位字符！",p:"请填写邮政编码！",m:"请填写手机号码！",e:"邮箱地址格式不对！",url:"请填写网址！"},def:"请填写正确信息！",undef:"datatype未定义！",reck:"两次输入的内容不一致！",r:"通过信息验证！",c:"正在检测信息…",s:"请{填写|选择}{0|信息}！",v:"所填信息没有经过验证，请稍后…",p:"正在提交数据…"};d.Tipmsg=e;var a=function(l,n,k){var n=d.extend({},a.defaults,n);n.datatype&&d.extend(a.util.dataType,n.datatype);var m=this;m.tipmsg={w:{}};m.forms=l;m.objects=[];if(k===true){return false}l.each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var p=this;p.settings=d.extend({},n);var o=d(p);p.validform_status="normal";o.data("tipmsg",m.tipmsg);o.delegate("[datatype]","blur",function(){var q=arguments[1];a.util.check.call(this,o,q)});o.delegate("input[type='text']","keypress",function(q){if(q.keyCode==13&&o.find("input[type='submit']").length==0){o.submit()}});a.util.enhance.call(o,p.settings.tiptype,p.settings.usePlugin,p.settings.tipSweep);p.settings.btnSubmit&&o.find(p.settings.btnSubmit).bind("click",function(){o.trigger("submit");return false});o.submit(function(){var q=a.util.submitForm.call(o,p.settings);q===b&&(q=true);return q});o.find("[type='reset']").add(o.find(p.settings.btnReset)).bind("click",function(){a.util.resetForm.call(o)})});if(n.tiptype==1||(n.tiptype==2||n.tiptype==3)&&n.ajaxPost){c()}};a.defaults={tiptype:1,tipSweep:false,showAllError:false,postonce:false,ajaxPost:false};a.util={dataType:{"*":/[\w\W]+/,"*6-16":/^[\w\W]{6,16}$/,n:/^\d+$/,"n6-16":/^\d{6,16}$/,s:/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]+$/,"s6-18":/^[\u4E00-\u9FA5\uf900-\ufa2d\w\.\s]{6,18}$/,p:/^[0-9]{6}$/,m:/^13[0-9]{9}$|14[0-9]{9}|15[0-9]{9}$|18[0-9]{9}$/,e:/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(\w+:\/\/)?\w+(\.\w+)+.*$/},toString:Object.prototype.toString,isEmpty:function(k){return k===""||k===d.trim(this.attr("tip"))},getValue:function(m){var l,k=this;if(m.is("input[type='radio']")){l=k.find("input[type='radio'][name='"+m.attr("name")+"'][checked]").val();l=l===b?"":l}else{if(m.is("input[type='checkbox']")){l="";k.find("input[type='checkbox'][name='"+m.attr("name")+"'][checked]").each(function(){l+=d(this).val()+","});l=l===b?"":l}else{l=m.val()}}l=d.trim(l);return a.util.isEmpty.call(m,l)?"":l},enhance:function(l,m,n,k){var o=this;o.find("[datatype]").each(function(){if(l==2){if(d(this).parent().next().find(".Validform_checktip").length==0){d(this).parent().next().append("<span class='Validform_checktip' />");d(this).siblings(".Validform_checktip").remove()}}else{if(l==3||l==4){if(d(this).siblings(".Validform_checktip").length==0){d(this).parent().append("<span class='Validform_checktip' />");d(this).parent().next().find(".Validform_checktip").remove()}}}});o.find("input[recheck]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this);var p=o.find("input[name='"+d(this).attr("recheck")+"']");p.bind("keyup",function(){if(p.val()==q.val()&&p.val()!=""){if(p.attr("tip")){if(p.attr("tip")==p.val()){return false}}q.trigger("blur")}}).bind("blur",function(){if(p.val()!=q.val()&&q.val()!=""){if(q.attr("tip")){if(q.attr("tip")==q.val()){return false}}q.trigger("blur")}})});o.find("[tip]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this).attr("tip");var p=d(this).attr("altercss");d(this).focus(function(){if(d(this).val()==q){d(this).val("");if(p){d(this).removeClass(p)}}}).blur(function(){if(d.trim(d(this).val())===""){d(this).val(q);if(p){d(this).addClass(p)}}})});o.find("input[type='checkbox'][datatype],input[type='radio'][datatype]").each(function(){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";var q=d(this);var p=q.attr("name");o.find("[name='"+p+"']").filter("input[type='checkbox'],input[type='radio']").bind("click",function(){setTimeout(function(){q.trigger("blur")},0)})});o.find("select[datatype][multiple]").bind("click",function(){var p=d(this);setTimeout(function(){p.trigger("blur")},0)});a.util.usePlugin.call(o,m,l,n,k)},usePlugin:function(o,l,n,r){var s=this,o=o||{};if(s.find("input[plugin='swfupload']").length&&typeof(swfuploadhandler)!="undefined"){var k={custom_settings:{form:s,showmsg:function(v,t,u){a.util.showmsg.call(s,v,l,{obj:s.find("input[plugin='swfupload']"),type:t,sweep:n})}}};k=d.extend(true,{},o.swfupload,k);s.find("input[plugin='swfupload']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";d(this).val("");swfuploadhandler.init(k,t)})}if(s.find("input[plugin='datepicker']").length&&d.fn.datePicker){o.datepicker=o.datepicker||{};if(o.datepicker.format){Date.format=o.datepicker.format;delete o.datepicker.format}if(o.datepicker.firstDayOfWeek){Date.firstDayOfWeek=o.datepicker.firstDayOfWeek;delete o.datepicker.firstDayOfWeek}s.find("input[plugin='datepicker']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";o.datepicker.callback&&d(this).bind("dateSelected",function(){var u=new Date(d.event._dpCache[this._dpId].getSelected()[0]).asString(Date.format);o.datepicker.callback(u,this)});d(this).datePicker(o.datepicker)})}if(s.find("input[plugin*='passwordStrength']").length&&d.fn.passwordStrength){o.passwordstrength=o.passwordstrength||{};o.passwordstrength.showmsg=function(u,v,t){a.util.showmsg.call(s,v,l,{obj:u,type:t,sweep:n})};s.find("input[plugin='passwordStrength']").each(function(t){if(this.validform_inited=="inited"){return true}this.validform_inited="inited";d(this).passwordStrength(o.passwordstrength)})}if(r!="addRule"&&o.jqtransform&&d.fn.jqTransSelect){if(s[0].jqTransSelected=="true"){return}s[0].jqTransSelected="true";var m=function(t){var u=d(".jqTransformSelectWrapper ul:visible");u.each(function(){var v=d(this).parents(".jqTransformSelectWrapper:first").find("select").get(0);if(!(t&&v.oLabel&&v.oLabel.get(0)==t.get(0))){d(this).hide()}})};var p=function(t){if(d(t.target).parents(".jqTransformSelectWrapper").length===0){m(d(t.target))}};var q=function(){d(document).mousedown(p)};if(o.jqtransform.selector){s.find(o.jqtransform.selector).filter('input[type="submit"], input[type="reset"], input[type="button"]').jqTransInputButton();s.find(o.jqtransform.selector).filter('input[type="text"], input[type="password"]').jqTransInputText();s.find(o.jqtransform.selector).filter('input[type="checkbox"]').jqTransCheckBox();s.find(o.jqtransform.selector).filter('input[type="radio"]').jqTransRadio();s.find(o.jqtransform.selector).filter("textarea").jqTransTextarea();if(s.find(o.jqtransform.selector).filter("select").length>0){s.find(o.jqtransform.selector).filter("select").jqTransSelect();q()}}else{s.jqTransform()}s.find(".jqTransformSelectWrapper").find("li a").click(function(){d(this).parents(".jqTransformSelectWrapper").find("select").trigger("blur")})}},getNullmsg:function(o){var n=this;var m=/[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z\s]+/g;var k;var l=o[0].settings.label||".Validform_label";l=n.siblings(l).eq(0).text()||n.siblings().find(l).eq(0).text()||n.parent().siblings(l).eq(0).text()||n.parent().siblings().find(l).eq(0).text();l=l.replace(/\s(?![a-zA-Z])/g,"").match(m);l=l?l.join(""):[""];m=/\{(.+)\|(.+)\}/;k=o.data("tipmsg").s||e.s;if(l!=""){k=k.replace(/\{0\|(.+)\}/,l);if(n.attr("recheck")){k=k.replace(/\{(.+)\}/,"");n.attr("nullmsg",k);return k}}else{k=n.is("input[type='checkbox'],input[type='radio'],select")?k.replace(/\{0\|(.+)\}/,""):k.replace(/\{0\|(.+)\}/,"$1")}k=n.is("input[type='checkbox'],input[type='radio'],select")?k.replace(m,"$2"):k.replace(m,"$1");n.attr("nullmsg",k);return k},getErrormsg:function(s,n,u){var o=/^(.+?)((\d+)-(\d+))?$/,m=/^(.+?)(\d+)-(\d+)$/,l=/(.*?)\d+(.+?)\d+(.*)/,q=n.match(o),t,r;if(u=="recheck"){r=s.data("tipmsg").reck||e.reck;return r}var p=d.extend({},e.w,s.data("tipmsg").w);if(q[0] in p){return s.data("tipmsg").w[q[0]]||e.w[q[0]]}for(var k in p){if(k.indexOf(q[1])!=-1&&m.test(k)){r=(s.data("tipmsg").w[k]||e.w[k]).replace(l,"$1"+q[3]+"$2"+q[4]+"$3");s.data("tipmsg").w[q[0]]=r;return r}}return s.data("tipmsg").def||e.def},_regcheck:function(t,n,u,A){var A=A,y=null,v=false,o=/\/.+\//g,k=/^(.+?)(\d+)-(\d+)$/,l=3;if(o.test(t)){var s=t.match(o)[0].slice(1,-1);var r=t.replace(o,"");var q=RegExp(s,r);v=q.test(n)}else{if(a.util.toString.call(a.util.dataType[t])=="[object Function]"){v=a.util.dataType[t](n,u,A,a.util.dataType);if(v===true||v===b){v=true}else{y=v;v=false}}else{if(!(t in a.util.dataType)){var m=t.match(k),z;if(!m){v=false;y=A.data("tipmsg").undef||e.undef}else{for(var B in a.util.dataType){z=B.match(k);if(!z){continue}if(m[1]===z[1]){var w=a.util.dataType[B].toString(),r=w.match(/\/[mgi]*/g)[1].replace("/",""),x=new RegExp("\\{"+z[2]+","+z[3]+"\\}","g");w=w.replace(/\/[mgi]*/g,"/").replace(x,"{"+m[2]+","+m[3]+"}").replace(/^\//,"").replace(/\/$/,"");a.util.dataType[t]=new RegExp(w,r);break}}}}if(a.util.toString.call(a.util.dataType[t])=="[object RegExp]"){v=a.util.dataType[t].test(n)}}}if(v){l=2;y=u.attr("sucmsg")||A.data("tipmsg").r||e.r;if(u.attr("recheck")){var p=A.find("input[name='"+u.attr("recheck")+"']:first");if(n!=p.val()){v=false;l=3;y=u.attr("errormsg")||a.util.getErrormsg.call(u,A,t,"recheck")}}}else{y=y||u.attr("errormsg")||a.util.getErrormsg.call(u,A,t);if(a.util.isEmpty.call(u,n)){y=u.attr("nullmsg")||a.util.getNullmsg.call(u,A)}}return{passed:v,type:l,info:y}},regcheck:function(n,s,m){var t=this,k=null,l=false,r=3;if(m.attr("ignore")==="ignore"&&a.util.isEmpty.call(m,s)){if(m.data("cked")){k=""}return{passed:true,type:4,info:k}}m.data("cked","cked");var u=a.util.parseDatatype(n);var q;for(var p=0;p<u.length;p++){for(var o=0;o<u[p].length;o++){q=a.util._regcheck(u[p][o],s,m,t);if(!q.passed){break}}if(q.passed){break}}return q},parseDatatype:function(r){var q=/\/.+?\/[mgi]*(?=(,|$|\||\s))|[\w\*-]+/g,o=r.match(q),p=r.replace(q,"").replace(/\s*/g,"").split(""),l=[],k=0;l[0]=[];l[0].push(o[0]);for(var s=0;s<p.length;s++){if(p[s]=="|"){k++;l[k]=[]}l[k].push(o[s+1])}return l},showmsg:function(n,l,m,k){if(n==b){return}if(k=="bycheck"&&m.sweep&&(m.obj&&!m.obj.is(".Validform_error")||typeof l=="function")){return}d.extend(m,{curform:this});if(typeof l=="function"){l(n,m,a.util.cssctl);return}if(l==1||k=="byajax"&&l!=4){j.find(".Validform_info").html(n)}if(l==1&&k!="bycheck"&&m.type!=2||k=="byajax"&&l!=4){i=false;j.find(".iframe").css("height",j.outerHeight());j.show();h(j,100)}if(l==2&&m.obj){m.obj.parent().next().find(".Validform_checktip").html(n);a.util.cssctl(m.obj.parent().next().find(".Validform_checktip"),m.type)}if((l==3||l==4)&&m.obj){m.obj.siblings(".Validform_checktip").html(n);a.util.cssctl(m.obj.siblings(".Validform_checktip"),m.type)}},cssctl:function(l,k){switch(k){case 1:l.removeClass("Validform_right Validform_wrong").addClass("Validform_checktip Validform_loading");break;case 2:l.removeClass("Validform_wrong Validform_loading").addClass("Validform_checktip Validform_right");break;case 4:l.removeClass("Validform_right Validform_wrong Validform_loading").addClass("Validform_checktip");break;default:l.removeClass("Validform_right Validform_loading").addClass("Validform_checktip Validform_wrong")}},check:function(v,t,n){var o=v[0].settings;var t=t||"";var k=a.util.getValue.call(v,d(this));if(o.ignoreHidden&&d(this).is(":hidden")||d(this).data("dataIgnore")==="dataIgnore"){return true}if(o.dragonfly&&!d(this).data("cked")&&a.util.isEmpty.call(d(this),k)&&d(this).attr("ignore")!="ignore"){return false}var s=a.util.regcheck.call(v,d(this).attr("datatype"),k,d(this));if(k==this.validform_lastval&&!d(this).attr("recheck")&&t==""){return s.passed?true:false}this.validform_lastval=k;var r;g=r=d(this);if(!s.passed){a.util.abort.call(r[0]);if(!n){a.util.showmsg.call(v,s.info,o.tiptype,{obj:d(this),type:s.type,sweep:o.tipSweep},"bycheck");!o.tipSweep&&r.addClass("Validform_error")}return false}var q=d(this).attr("ajaxurl");if(q&&!a.util.isEmpty.call(d(this),k)&&!n){var m=d(this);if(t=="postform"){m[0].validform_subpost="postform"}else{m[0].validform_subpost=""}if(m[0].validform_valid==="posting"&&k==m[0].validform_ckvalue){return"ajax"}m[0].validform_valid="posting";m[0].validform_ckvalue=k;a.util.showmsg.call(v,v.data("tipmsg").c||e.c,o.tiptype,{obj:m,type:1,sweep:o.tipSweep},"bycheck");a.util.abort.call(r[0]);var u=d.extend(true,{},o.ajaxurl||{});var p={type:"POST",cache:false,url:q,data:"param="+encodeURIComponent(k)+"&name="+encodeURIComponent(d(this).attr("name")),success:function(x){if(d.trim(x.status)==="y"){m[0].validform_valid="true";x.info&&m.attr("sucmsg",x.info);a.util.showmsg.call(v,m.attr("sucmsg")||v.data("tipmsg").r||e.r,o.tiptype,{obj:m,type:2,sweep:o.tipSweep},"bycheck");r.removeClass("Validform_error");g=null;if(m[0].validform_subpost=="postform"){v.trigger("submit")}}else{m[0].validform_valid=x.info;a.util.showmsg.call(v,x.info,o.tiptype,{obj:m,type:3,sweep:o.tipSweep});r.addClass("Validform_error")}r[0].validform_ajax=null},error:function(x){if(x.status=="200"){if(x.responseText=="y"){u.success({status:"y"})}else{u.success({status:"n",info:x.responseText})}return false}if(x.statusText!=="abort"){var y="status: "+x.status+"; statusText: "+x.statusText;a.util.showmsg.call(v,y,o.tiptype,{obj:m,type:3,sweep:o.tipSweep});r.addClass("Validform_error")}m[0].validform_valid=x.statusText;r[0].validform_ajax=null;return true}};if(u.success){var w=u.success;u.success=function(x){p.success(x);w(x,m)}}if(u.error){var l=u.error;u.error=function(x){p.error(x)&&l(x,m)}}u=d.extend({},p,u,{dataType:"json"});r[0].validform_ajax=d.ajax(u);return"ajax"}else{if(q&&a.util.isEmpty.call(d(this),k)){a.util.abort.call(r[0]);r[0].validform_valid="true"}}if(!n){a.util.showmsg.call(v,s.info,o.tiptype,{obj:d(this),type:s.type,sweep:o.tipSweep},"bycheck");r.removeClass("Validform_error")}g=null;return true},submitForm:function(o,l,k,r,t){var w=this;if(w[0].validform_status==="posting"){return false}if(o.postonce&&w[0].validform_status==="posted"){return false}var v=o.beforeCheck&&o.beforeCheck(w);if(v===false){return false}var s=true,n;w.find("[datatype]").each(function(){if(l){return false}if(o.ignoreHidden&&d(this).is(":hidden")||d(this).data("dataIgnore")==="dataIgnore"){return true}var z=a.util.getValue.call(w,d(this)),A;g=A=d(this);n=a.util.regcheck.call(w,d(this).attr("datatype"),z,d(this));if(!n.passed){a.util.showmsg.call(w,n.info,o.tiptype,{obj:d(this),type:n.type,sweep:o.tipSweep});A.addClass("Validform_error");if(!o.showAllError){s=false;return false}s&&(s=false);return true}if(d(this).attr("ajaxurl")&&!a.util.isEmpty.call(d(this),z)){if(this.validform_valid!=="true"){var y=d(this);a.util.showmsg.call(w,w.data("tipmsg").v||e.v,o.tiptype,{obj:y,type:3,sweep:o.tipSweep});A.addClass("Validform_error");y.trigger("blur",["postform"]);if(!o.showAllError){s=false;return false}s&&(s=false);return true}}else{if(d(this).attr("ajaxurl")&&a.util.isEmpty.call(d(this),z)){a.util.abort.call(this);this.validform_valid="true"}}a.util.showmsg.call(w,n.info,o.tiptype,{obj:d(this),type:n.type,sweep:o.tipSweep});A.removeClass("Validform_error");g=null});if(o.showAllError){w.find(".Validform_error:first").focus()}if(s){var q=o.beforeSubmit&&o.beforeSubmit(w);if(q===false){return false}w[0].validform_status="posting";if(o.ajaxPost||r==="ajaxPost"){var u=d.extend(true,{},o.ajaxpost||{});u.url=k||u.url||o.url||w.attr("action");a.util.showmsg.call(w,w.data("tipmsg").p||e.p,o.tiptype,{obj:w,type:1,sweep:o.tipSweep},"byajax");if(t){u.async=false}else{if(t===false){u.async=true}}if(u.success){var x=u.success;u.success=function(y){o.callback&&o.callback(y);w[0].validform_ajax=null;if(d.trim(y.status)==="y"){w[0].validform_status="posted"}else{w[0].validform_status="normal"}x(y,w)}}if(u.error){var m=u.error;u.error=function(y){o.callback&&o.callback(y);w[0].validform_status="normal";w[0].validform_ajax=null;m(y,w)}}var p={type:"POST",async:true,data:w.serializeArray(),success:function(y){if(d.trim(y.status)==="y"){w[0].validform_status="posted";a.util.showmsg.call(w,y.info,o.tiptype,{obj:w,type:2,sweep:o.tipSweep},"byajax")}else{w[0].validform_status="normal";a.util.showmsg.call(w,y.info,o.tiptype,{obj:w,type:3,sweep:o.tipSweep},"byajax")}o.callback&&o.callback(y);w[0].validform_ajax=null},error:function(y){var z="status: "+y.status+"; statusText: "+y.statusText;a.util.showmsg.call(w,z,o.tiptype,{obj:w,type:3,sweep:o.tipSweep},"byajax");o.callback&&o.callback(y);w[0].validform_status="normal";w[0].validform_ajax=null}};u=d.extend({},p,u,{dataType:"json"});w[0].validform_ajax=d.ajax(u)}else{if(!o.postonce){w[0].validform_status="normal"}var k=k||o.url;if(k){w.attr("action",k)}return o.callback&&o.callback(w)}}return false},resetForm:function(){var k=this;k.each(function(){this.reset&&this.reset();this.validform_status="normal"});k.find(".Validform_right").text("");k.find(".passwordStrength").children().removeClass("bgStrength");k.find(".Validform_checktip").removeClass("Validform_wrong Validform_right Validform_loading");k.find(".Validform_error").removeClass("Validform_error");k.find("[datatype]").removeData("cked").removeData("dataIgnore").each(function(){this.validform_lastval=null});k.eq(0).find("input:first").focus()},abort:function(){if(this.validform_ajax){this.validform_ajax.abort()}}};d.Datatype=a.util.dataType;a.prototype={dataType:a.util.dataType,eq:function(l){var k=this;if(l>=k.forms.length){return null}if(!(l in k.objects)){k.objects[l]=new a(d(k.forms[l]).get(),{},true)}return k.objects[l]},resetStatus:function(){var k=this;d(k.forms).each(function(){this.validform_status="normal"});return this},setStatus:function(k){var l=this;d(l.forms).each(function(){this.validform_status=k||"posting"});return this},getStatus:function(){var l=this;var k=d(l.forms)[0].validform_status;return k},ignore:function(k){var l=this;var k=k||"[datatype]";d(l.forms).find(k).each(function(){d(this).data("dataIgnore","dataIgnore").removeClass("Validform_error")});return this},unignore:function(k){var l=this;var k=k||"[datatype]";d(l.forms).find(k).each(function(){d(this).removeData("dataIgnore")});return this},addRule:function(n){var m=this;var n=n||[];for(var l=0;l<n.length;l++){var p=d(m.forms).find(n[l].ele);for(var k in n[l]){k!=="ele"&&p.attr(k,n[l][k])}}d(m.forms).each(function(){var o=d(this);a.util.enhance.call(o,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep,"addRule")});return this},ajaxPost:function(k,m,l){var n=this;d(n.forms).each(function(){if(this.settings.tiptype==1||this.settings.tiptype==2||this.settings.tiptype==3){c()}a.util.submitForm.call(d(n.forms[0]),this.settings,k,l,"ajaxPost",m)});return this},submitForm:function(k,l){var m=this;d(m.forms).each(function(){var n=a.util.submitForm.call(d(this),this.settings,k,l);n===b&&(n=true);if(n===true){this.submit()}});return this},resetForm:function(){var k=this;a.util.resetForm.call(d(k.forms));return this},abort:function(){var k=this;d(k.forms).each(function(){a.util.abort.call(this)});return this},check:function(m,k){var k=k||"[datatype]",o=this,n=d(o.forms),l=true;n.find(k).each(function(){a.util.check.call(this,n,"",m)||(l=false)});return l},config:function(k){var l=this;k=k||{};d(l.forms).each(function(){var m=d(this);this.settings=d.extend(true,this.settings,k);a.util.enhance.call(m,this.settings.tiptype,this.settings.usePlugin,this.settings.tipSweep)});return this}};d.fn.Validform=function(k){return new a(this,k)};function h(n,m){var l=(d(window).width()-n.outerWidth())/2,k=(d(window).height()-n.outerHeight())/2,k=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(k>0?k:0);n.css({left:l}).animate({top:k},{duration:m,queue:false})}function c(){if(d("#Validform_msg").length!==0){return false}j=d('<div id="Validform_msg"><div class="Validform_title">'+e.tit+'<a class="Validform_close" href="javascript:void(0);">&chi;</a></div><div class="Validform_info"></div><div class="iframe"><iframe frameborder="0" scrolling="no" height="100%" width="100%"></iframe></div></div>').appendTo("body");j.find("a.Validform_close").click(function(){j.hide();i=true;if(g){g.focus().addClass("Validform_error")}return false}).focus(function(){this.blur()});d(window).bind("scroll resize",function(){!i&&h(j,400)})}d.Showmsg=function(k){c();a.util.showmsg.call(f,k,1,{})};d.Hidemsg=function(){j.hide();i=true}})($,window);$.Tipmsg.w.zh="请输入中文字符！";$.Tipmsg.w["zh6-18"]="请输入6到18个中文字符！";$.Tipmsg.w.a="请输入字母！";$.Tipmsg.w["a6-16"]="请输入6到16位字母！";$.Tipmsg.w.an="请输入字母或数字！";$.Tipmsg.w["an6-16"]="请输入6到16字母或数字！";$.Tipmsg.w.w="请输入字母或数字！";$.Tipmsg.w["w6-16"]="请输入6到16字母或数字！";$.Tipmsg.w.amount="请输入金额格式！";$.Tipmsg.w["amount1-4"]="请输入1到4位整数的金额格式！";$.Tipmsg.w.m="请填写手机号码！";$.Datatype.zh=/^[\u4E00-\u9FA5\uf900-\ufa2d]+$/;$.Datatype["zh6-18"]=/^[\u4E00-\u9FA5\uf900-\ufa2d]{6,18}$/;$.Datatype.a=/^[a-zA-Z]+$/;$.Datatype["a6-16"]=/^[a-zA-Z]{6,16}$/;$.Datatype.an=/^[a-zA-Z\d]+$/;$.Datatype["an6-16"]=/^[a-zA-Z\d]{6,16}$/;$.Datatype.w=/^\w+$/;$.Datatype["w6-16"]=/^\w{6,16}$/;$.Datatype.amount=/^\d*(\.\d\d?)?$/;$.Datatype["amount1-4"]=/^\d{1,4}(\.\d\d?)?$/;$.Datatype.m=/^1[0-9]{10}$/;function getSessionId(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("getSessionId",function(c){var b={};if(c=="0"){b.errCode=1;b.errMsg="获取失败！"}else{b.sessionId=c;b.errCode=0;b.errMsg="获取成功！"}a(b)})}else{execSyn("getSessionId",a)}}function getDevInfo(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}return execSyn("getDevInfo",a)}function getLbsInfo(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}if(MobileOS=="android"&&pluginAppVerCode<5){return execSyn("getSynLBS",a)}else{return execSyn("getLbsInfo",a)}}function gotoLbsSetting(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}if(MobileOS=="android"&&pluginAppVerCode<2){alert("1.1.0以下版本不支持跳转定位功能，请升级插件版本!");return}return execSyn("gotoLbsSetting",a)}function startKeyBoard(d,c,a,b){var e={};e.minlen=d;e.maxlen=c;e.orderId=a;setTimeout(function(){if(MobileOS=="android"&&pluginAppVerCode<5){WebViewJavascriptBridge.callHandler("startKeyBoard",e,b)}else{WebViewJavascriptBridge.callHandler("startPasswordKeyBoard",e,b)}},200)}function startCreditKeyboard(d,c,a,b){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}var e={};e.minlen=d;e.maxlen=c;e.orderId=a;setTimeout(function(){WebViewJavascriptBridge.callHandler("startCreditKeyboard",e,b)},200)}function startNumberKeyboard(d,c,f,h,g,b,a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}if(MobileOS=="android"&&pluginAppVerCode<4){alert("1.3.0以下版本不支持数字键盘的功能，请升级插件版本!");return}var e={};e.minlen=d;e.maxlen=c;e.title=f;e.xEnabled=g;e.formatFlag=b;e.defaultVal=h;setTimeout(function(){if(MobileOS=="android"&&pluginAppVerCode<5){WebViewJavascriptBridge.callHandler("startHxKeyBoard",e,a)}else{WebViewJavascriptBridge.callHandler("startNumberKeyboard",e,a)}},200)}function notifyPayResult(b,a){if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("notify",b,a)}else{execSyn("notifyPayResult",b,a)}}function exitPlugin(a){return execSyn("exitPlugin",a)}function repay(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}if(MobileOS=="android"&&pluginAppVerCode<3){alert("1.2.0以下版本不支持重新支付的功能，请升级插件版本!");return}return execSyn("repay",a)}function data3DesEnc(c,a,b){var d={};d.pw=c;d.encFlag=a;if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("des",d,b)}else{execSyn("data3DesEnc",d,b)}}function setConfig(b,c,a){var d={};d.key=b;d.value=c;if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("setConfig",d,function(f){var e={};if(f=="0"){e.errCode=0;e.errMsg=""}else{e.errCode=1;e.errMsg="更新失败！"}a(e)})}else{execSyn("setConfig",d,a)}}function setKey(b,c,a){var d={};d.key=b;d.value=c;if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("setKey",d,function(f){var e={};if(f=="0"){e.errCode=0;e.errMsg=""}else{e.errCode=1;e.errMsg="更新失败！"}a(e)})}else{execSyn("setKey",d,a)}}function getConfig(a){return execSyn("getConfig",a)}function getKey(a){return execSyn("getKey",a)}function upFile(fileName,url,param,fun){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}if(typeof(eval(param))=="function"){var data={};data.fileName=fileName;data.url=url;WebViewJavascriptBridge.callHandler("upFile",data,param)}else{param.fileName=fileName;param.url=url;WebViewJavascriptBridge.callHandler("upFile",param,fun)}}function startCamera(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}var b={};if(MobileOS=="android"&&pluginAppVerCode<5){WebViewJavascriptBridge.callHandler("takePictrue",b,a)}else{WebViewJavascriptBridge.callHandler("startCamera",b,a)}}function startRecord(b,a){if(MobileOS=="android"&&pluginAppVerCode<2){alert("1.1.0以下版本不支持录音功能，请升级插件版本!");return}var c={};c.recordTime=b;WebViewJavascriptBridge.callHandler("startRecord",c,a)}function startVedio(b,a){if(MobileOS=="android"&&pluginAppVerCode<2){alert("1.1.0以下版本不支持视频录像功能，请升级插件版本!");return}var c={};c.vedioTime=b;if(MobileOS=="android"&&pluginAppVerCode<5){WebViewJavascriptBridge.callHandler("takeVedio",c,a)}else{WebViewJavascriptBridge.callHandler("startVedio",c,a)}}function showLoadingPage(d,b,a){var c={};c.text=d;if(b&&b!="false"){c.isCancel="true"}else{c.isCancel="false"}if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("showProgress",c,function(f){var e={};if(f=="0"){e.errCode=0;e.errMsg=""}else{e.errCode=1;e.errMsg="更新失败！"}a(e)})}else{execSyn("showProgress",c,a)}}function openLbs(a){if(MobileOS=="ios"&&pluginAppVerCode<2){alert("iOS插件1.1.0以下版本不支持数字键盘的功能，请升级插件版本!");return}var b={};execSyn("openLbs",b,a)}function closeLoadingPage(a){if(MobileOS=="android"&&pluginAppVerCode<5){execSyn("closeProgress",params,function(c){var b={};if(c=="0"){b.errCode=0;b.errMsg=""}else{b.errCode=1;b.errMsg="更新失败！"}a(b)})}else{return execSyn("closeProgress",a)}}function goBack(a){return execSyn("goBack",a)}function execSyn(c,b,a){if(typeof(b)=="function"){if(MobileOS=="ios"){WebViewJavascriptBridge.callHandler(c,{},b)}else{b(WebViewJavascriptBridge.syn(c))}}else{if(a==undefined){a=function(d){}}if(MobileOS=="ios"){WebViewJavascriptBridge.callHandler(c,b,a)}else{a(WebViewJavascriptBridge.syn(c,b))}}}var pluginAppVerCode=1;var pluginAppVer="1.0.0";var isPluginStart=false;var MobileOS="android";function getPluginAppVerInfo(a){execSyn("getPluginAppVerInfo",a)}function onPluginStart(){isPluginStart=true;getPluginAppVerInfo(function(a){if(a.errCode==0){pluginAppVerCode=a.pluginAppVerCode;pluginAppVer=a.pluginAppVer}pluginInitOnLoad()})}function onPluginStartIos(){isPluginStart=true;MobileOS="ios";getPluginAppVerInfo(function(a){if(a.errCode==0){pluginAppVerCode=a.pluginAppVerCode;pluginAppVer=a.pluginAppVer}pluginInitOnLoad()})}var pluginInitFunction=[];function pluginInitOnLoad(){var a;while((a=pluginInitFunction.shift())){a()}};var linkTimout=60000;var formTimout=60000;$(function(){pageInit()});function linkAddBankCard_click(a){getPage(a).find(".formAddBankCard").show();$("html, body, .box").scrollTop($(document).height())}function pageInit(){boxInit();linkAjaxInit();formInit()}var vform=[];var vcheck=[[]];var vpage=[];function boxInit(a){if(!a){a=$("div.box").last()}a.find(".li-first").on("click",function(){if($(this).attr("data-state")==0){$(".pay-goods").removeClass("pay-goods-h");$(this).attr("data-state",1).addClass("li_down")}else{if($(this).attr("data-state")==1){$(".pay-goods").addClass("pay-goods-h");$(this).attr("data-state",0).removeClass("li_down")}}})}function linkAjaxInit($div){if(!$div){$div=getLastPage()}$div.find("a").click(function(){var href=$(this).attr("href");var popStack=$(this).attr("popStack");if(/^\s*javascript:/.test(href)){return true}loadingShow();var ajacComm=$.ajax({url:href,type:"get",timeout:linkTimout,complete:function(retData){if(retData.status=="0"&&retData.statusText=="timeout"){ajacComm.abort();loadingClose();alertTimeoutErr();return false}if(retData.status=="404"){loadingClose();alert404Err();return false}if(retData.status=="500"){loadingClose();alert500Err();return false}if(retData.status=="0"){loadingClose();zAlert("未知错误： 响应状态["+retData.status+"]，描述："+retData.statusText);return false}},success:function(data){if(loading==null){return false}loadingClose();web:{var re=/^\s*\{/;if(re.test(data)){try{var retData=eval("("+data+")");if(retData.status=="n"){zAlert("错误码："+retData.errCode+"<br/>错误消息："+retData.info,function(){A100Wait(retData.errCode)},"确定")}break web}catch(e){}}loadNewPage(data,popStack)}}});return false})}function formInit(a){if(!a){a=getLastPage()}var b=a.find(".vform");vform[getPageIndex()]=b.Validform({tiptype:function(e,d,c){if(d.obj.is("form")){return false}if(d.type==2){d.obj.css({"background-color":"#ffffff"})}else{d.obj.css({"background-color":"#ffe7e7"});if(d.curform.isSubmit){d.curform.isSubmit=null;zAlert(e)}}},label:".input-label",showAllError:false,tipSweep:false,beforeCheck:function(c){c.isSubmit=true;return true},beforeSubmit:function(c){return beforeCheck()},postonce:false,ajaxPost:true,callback:function(f){if(loading==null){return false}loadingClose();if(f.status=="0"&&f.statusText=="timeout"){alertTimeoutErr();return false}if(f.status=="404"){alert404Err();return false}if(f.status=="500"){alert500Err();return false}if(f.status=="200"&&f.responseText){try{var c=b.attr("popStack");loadNewPage(f.responseText,c);return true}catch(d){zAlert("加载页面失败！");return false}}if(f.status=="n"){zAlert("错误码："+f.errCode+"<br/>错误消息："+f.info,function(){A100Wait(f.errCode)},"确定")}else{if(f.status!="y"){zAlert("未知错误： 响应状态["+f.status+"]，描述："+f.statusText)}}return false}});vform[getPageIndex()].config({ajaxpost:{timeout:60000}})}function beforeCheck(){var c=vcheck[getPageIndex()];if(c.length){for(var b in c){var a=c[b]();if(a){if(typeof(a)=="string"){zAlert(a)}else{a.input.css({"background-color":"#ffe7e7"});zAlert(a.msg)}return false}}}loadingShow();return true}function loadNewPage(b,a){var e=/^\s*\<\s*div/;var d=b;if(!e.test(b)){var c=/<\/head>\s*<body>([\s\S]*)<\/body>/i;d=b.match(c)[1]}pageNext(d,a)}function pageNext(d,b){var e=getLastPage();if(b=="clear"||b=="out"){var a=vpage.length;for(var c=0;c<a;c++){vpage.shift().remove();vcheck.shift();vform.shift()}}if(b!="clear"){vpage.push(e)}vcheck.push([]);e.hide();e.after(d);if(b=="clear"){e.remove();vcheck.shift();vform.shift()}pageNextInit()}function pageNextInit(){pageInit();pluginInitOnLoad()}function getPageIndex(){return $("div.box").length-1}function getLastPage(){return $("div.box").last()}function getPage(a){return $(a).parents("div.box")}var loading=null;function loadingShow(){loading=zLoading("正在加载...")}function loadingClose(){if(loading){loading.close();loading=null}}function alertTimeoutErr(){zAlert("请求超时，请检查网络后重试！")}function alert404Err(){zAlert("您访问的页面不存在！")}function alert500Err(){zAlert("发生500错误！")}function zConfirm(f,c,a,d,e,b){return mDialog(c,{id:"art_confirm",okBtn:{text:a,callback:e},cancelBtn:{text:d,callback:b},mask:true})}function zAlert(b,c,a){return mDialog(b,{id:"art_alert",okBtn:{text:a,callback:c},mask:true})}function zLoading(a){return mDialog('<div class="loadDiv"><div class="img"></div><p>'+a+"</p></div>",{id:"art_loading",okBtn:{hide:true},isLoading:true,mask:true})};function setCookie(a,c){var b=30;var d=new Date();d.setTime(d.getTime()+b*24*60*60*1000);document.cookie=a+"="+escape(c)+";expires="+d.toGMTString()}function getCookie(b){var a,c=new RegExp("(^| )"+b+"=([^;]*)(;|$)");if(a=document.cookie.match(c)){return(a[2])}else{return null}}function delCookie(a){var c=new Date();c.setTime(c.getTime()-1);var b=getCookie(a);if(b!=null){document.cookie=a+"="+b+";expires="+c.toGMTString()}}function setCookie(a,c,d){var b=getsec(d);var e=new Date();e.setTime(e.getTime()+b*1);document.cookie=a+"="+escape(c)+";expires="+e.toGMTString()}function getsec(c){var b=c.substring(1,c.length)*1;var a=c.substring(0,1);if(a=="s"){return b*1000}else{if(a=="h"){return b*60*60*1000}else{if(a=="d"){return b*24*60*60*1000}}}}var Toast=function(a){this.context=a.context==null?$("body"):a.context;this.message=a.message;this.time=a.time==null?3000:a.time;this.left=a.left;this.top=a.top;this.init()};var msgEntity;Toast.prototype={init:function(){$("#toastMessage").remove();var a=new Array();a.push('<div id="toastMessage">');a.push("<span>"+this.message+"</span>");a.push("</div>");msgEntity=$(a.join("")).appendTo(this.context);var c=this.left==null?this.context.width()/2-msgEntity.find("span").width()/2:this.left;var b=this.top==null?this.context.height()-20:this.top;msgEntity.css({position:"fixed",bottom:0,"z-index":"99",left:0,"background-color":"black",color:"white","font-size":"18px",padding:"10px",margin:"10px"});var c=this.left==null?this.context.width()/2-msgEntity.width()/2:this.left;c-=20;msgEntity.css({left:c});msgEntity.hide()},show:function(a){if(a==null){a=3000}msgEntity.show();setTimeout(function(){msgEntity.hide()},a)}};function keyDown(){$("#keyboard").slideDown(200,function(){$("#keyboardbg").fadeIn(100)})}function keyUp(){$("#keyboard").slideUp(100,function(){$("#keyboardbg").fadeOut(100)})}function key(c,b){if(b==1){var a=document.getElementById("yilianpsw").value;document.getElementById("yilianpsw").value=a+c.innerHTML}else{if(b==2){document.getElementById("yilianpsw").value="";keyUp()}else{if(b==3){var a=document.getElementById("yilianpsw").value;document.getElementById("yilianpsw").value=a.slice(0,-1)}}}}function getkeyboard(){var a=$("#yilianpsw").val();$(".cardNumber").val(a);keyUp()}function msgTips(){$(".loadMack,.loadCon").fadeIn(200)}function bankNoFormat(b){if(b.value==""){return}var d=new String(b.value);d=d.substring(0,24);if(d.match(".[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}")==null){if(d.match(".[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}|.[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}|.[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}|.[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}")==null){var a=accountChar="",c;for(c=0;c<d.length;c++){accountChar=d.substr(c,1);if(!isNaN(accountChar)&&(accountChar!=" ")){a=a+accountChar}}d="";for(c=0;c<a.length;c++){if(c==4){d=d+" "}if(c==8){d=d+" "}if(c==12){d=d+" "}if(c==16){d=d+" "}d=d+a.substr(c,1)}}}else{d=" "+d.substring(1,5)+" "+d.substring(6,10)+" "+d.substring(14,18)+" "+d.substring(18,25)}if(d!=b.value){b.value=d}};function postURl(b){if(document.getElementById("temp_form_id")){$("#temp_form_id").remove()}var a='<form id="temp_form_id" action="'+b+'" method="'+notifyType+'">';if(b.indexOf("?")>0){var f=b.split("?");a='<form id="temp_form_id" action="'+f[0]+'" method="post">';if(f[1].indexOf("&")>0){var e=f[1].split("&");for(var c=0;c<e.length;c++){var d=e[c].split("=");a=a+'<input type="hidden" name="'+d[0]+'" value="'+d[1]+'">'}}else{var d=f[1].split("=");a=a+'<input type="hidden" name="'+d[0]+'" value="'+d[1]+'">'}}a=a+"</form>";$("body").append(a);document.getElementById("temp_form_id").submit()}function notifyMerchant(){if(document.getElementById("temp_form_id")){$("#temp_form_id").remove()}var b='<form id="temp_form_id" action="'+sync_url+'" method="'+notifyType+'">';if(syncParam.indexOf("&")>0){var d=syncParam.split("&");for(var c=0;c<d.length;c++){var a=d[c].indexOf("=");b=b+'<input type="hidden" name="'+d[c].substring(0,a)+'" value="'+d[c].substring(a+1)+'">'}}else{var a=syncParam.indexOf("=");b=b+'<input type="hidden" name="'+syncParam.substring(0,a)+'" value="'+syncParam.substring(a+1)+'">'}b=b+"</form>";$("body").append(b);document.getElementById("temp_form_id").submit()}var pageBackOut=false;var closeDialogShow=false;var closeDialog;function pageBack(){if(pageBackOut){if(typeof(pageBackOut)=="function"){pageBackOut();return}}if(loading){loadingClose();return}if(vpage.length==0){if(closeDialogShow){if(closeDialog){closeDialog.close();closeDialog=null;closeDialogShow=false}return}closeDialogShow=true;closeDialog=zConfirm("确认","订单还未支付，您确定要离开吗？","确认","继续",function(){notifyMerchant();closeDialogShow=false},function(){closeDialogShow=false});return}var b=vpage.pop();b.show();var a=getLastPage();a.remove();vcheck.pop();vform.pop()}function pluginInitOnLoad(){}function A100Wait(a){if("A100"==a){var b=function(c){if(c<=0){pageBackOut=null;if(loading){loading.close();loading=null}$page.find(".vform").submit();return false}if(loading){loading.close()}loading=zLoading("系统繁忙，稍后再试<br>倒计时("+c--+")");$(loading.domElem(".img")).remove();setTimeout(function(){b(c)},1000)};b(A100WaitTime)}};var $keybordType=null;var $inputEle=null;var $placeholder=null;var $checkFunction=null;var $page=null;var $errorMsg=null;var $maxLen=null;var $minLen=null;var $pwdDirectEnc=null;function numberKeybord(b){$inputEle=b._this;$keybordType=b.keybordType;$placeholder=b.placeholder;$checkFunction=b.checkFunction;$page=b._page;$errorMsg=b.errorMsg;$maxLen=b.maxLen;$minLen=b.minLen;if($keybordType==undefined||typeof $keybordType=="undefined"){$keybordType="idNum"}if($checkFunction==undefined||typeof $checkFunction=="undefined"){$checkFunction=function(c){return true}}if(window.orientation===90||window.orientation===-90){_initUI2()}else{_initUI()}var a=$($inputEle).val();if(a!=""){$page.find(".key-input").val(a)}keyDown();$($inputEle).blur()}var $dnaOrderId=null;var $currDate=null;var _currYear=null;var _currMonth=null;function pwdKeybord(a){$inputEle=a._this;$keybordType=a.keybordType;$placeholder=a.placeholder;$checkFunction=a.checkFunction;$page=a._page;$errorMsg=a.errorMsg;$dnaOrderId=a.dnaOrderId;$currDate=a.currDate;$maxLen=a.maxLen;$minLen=a.minLen;$pwdDirectEnc=a.pwdDirectEnc;if($keybordType==undefined||typeof $keybordType=="undefined"){$keybordType="cardPwd"}if($checkFunction==undefined||typeof $checkFunction=="undefined"){$checkFunction=function(b){return true}}if(window.orientation===90||window.orientation===-90){_initUI2()}else{_initUI()}keyDown();$($inputEle).blur()}function _initUI(){var e="";if($keybordType=="idNum"){e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-close" onclick="keyUp();"></div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw"><div class="input-div"><input type="tel" class="key-input" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div></div><div class="keyboard-key"><ul><li><div ontouchstart="key(this,1)">1</div></li><li><div ontouchstart="key(this,1)">2</div></li><li><div ontouchstart="key(this,1)">3</div></li><li><div ontouchstart="key(this,1)">4</div></li><li><div ontouchstart="key(this,1)">5</div></li><li><div ontouchstart="key(this,1)">6</div></li><li><div ontouchstart="key(this,1)">7</div></li><li><div ontouchstart="key(this,1)">8</div></li><li><div ontouchstart="key(this,1)">9</div></li><li><div ontouchstart="key(this,1)">X</div></li><li><div ontouchstart="key(this,1)">0</div></li><li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul></div></div>'}else{if($keybordType=="accCard"){e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-close" onclick="keyUp();"></div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw"><div class="input-div"><input type="tel" class="key-input" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div></div><div class="keyboard-key"><ul><li><div ontouchstart="key(this,1)">1</div></li><li><div ontouchstart="key(this,1)">2</div></li><li><div ontouchstart="key(this,1)">3</div></li><li><div ontouchstart="key(this,1)">4</div></li><li><div ontouchstart="key(this,1)">5</div></li><li><div ontouchstart="key(this,1)">6</div></li><li><div ontouchstart="key(this,1)">7</div></li><li><div ontouchstart="key(this,1)">8</div></li><li><div ontouchstart="key(this,1)">9</div></li><li><div style="color: silver;">X</div></li><li><div ontouchstart="key(this,1)">0</div></li><li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul></div></div>'}else{if($keybordType=="cardPwd"){var c=[0,1,2,3,4,5,6,7,8,9];c.sort(function(){return 0.5-Math.random()});var a="<ul>";for(var b=0;b<10;b++){if(b==9){a=a+'<li><div onclick="key(this,2)"><em>取消</em></div></li>'}a=a+'<li><div ontouchstart="key(this,1)">'+c[b]+"</div></li>";if(b==9){a=a+'<li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul>'}}e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-title"><span>银联安全键盘</span><br/>采用银联标准加密技术加密传输，保证密码输入安全</div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw"><div class="input-div"><input type="password" class="key-input" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div></div><div class="keyboard-key">'+a+"</div></div>"}else{if($keybordType=="creditPwd"){_currYear=$currDate.substring(0,4);_currMonth=$currDate.substring(4);var d="";var f="";for(var b=0;b<12;b++){d=d+"<option value='"+(parseInt(_currYear)+b)+"'>"+(parseInt(_currYear)+b)+"年</option>"}for(var b=0;b<12;b++){f=f+"<option value='"+((b+1)<10?"0"+(b+1):(b+1))+"'>"+((b+1)<10?"0"+(b+1):(b+1))+"月</option>"}var c=[0,1,2,3,4,5,6,7,8,9];c.sort(function(){return 0.5-Math.random()});var a="<ul>";for(var b=0;b<10;b++){if(b==9){a=a+'<li><div onclick="key(this,2)"><em>取消</em></div></li>'}a=a+'<li><div ontouchstart="key(this,1)">'+c[b]+"</div></li>";if(b==9){a=a+'<li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul>'}}e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-title"><span>银联安全键盘</span><br/>采用银联标准加密技术加密传输，保证密码输入安全</div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw2"><div class="input-div2"><div class="input-select"><div class="select_div"><select class="select_year"><option value="">-有效期年-</option>'+d+'</select></div>&nbsp;&nbsp;&nbsp;<div class="select_div"><select class="select_month"><option value="">-有效期月-</option>'+f+'</select></div></div><div class="input-title">有效期</div></div><div class="keyboard-psw"><div class="input-div-credit"><input type="password" class="key-input1" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div><div class="input-title">信用卡CVN2</div></div><div class="keyboard-key">'+a+"</div></div>"}}}}if(IsPC()){e=e.replace(/ontouchstart/g,"onclick")}$page.append(e)}function _initUI2(){var e="";if($keybordType=="idNum"){e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-close" onclick="keyUp();"></div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw"><div class="input-div"><input type="tel" class="key-input" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div></div><div class="keyboard-key"><ul><li><div ontouchstart="key(this,1)">1</div></li><li><div ontouchstart="key(this,1)">2</div></li><li><div ontouchstart="key(this,1)">3</div></li><li><div ontouchstart="key(this,1)">X</div></li><li><div ontouchstart="key(this,1)">4</div></li><li><div ontouchstart="key(this,1)">5</div></li><li><div ontouchstart="key(this,1)">6</div></li><li><div ontouchstart="key(this,1)">0</div></li><li><div ontouchstart="key(this,1)">7</div></li><li><div ontouchstart="key(this,1)">8</div></li><li><div ontouchstart="key(this,1)">9</div></li><li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul></div></div>'}else{if($keybordType=="accCard"){e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-close" onclick="keyUp();"></div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw"><div class="input-div"><input type="tel" class="key-input" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div></div><div class="keyboard-key"><ul><li><div ontouchstart="key(this,1)">1</div></li><li><div ontouchstart="key(this,1)">2</div></li><li><div ontouchstart="key(this,1)">3</div></li><li><div style="color: silver;">X</div></li><li><div ontouchstart="key(this,1)">4</div></li><li><div ontouchstart="key(this,1)">5</div></li><li><div ontouchstart="key(this,1)">6</div></li><li><div ontouchstart="key(this,1)">0</div></li><li><div ontouchstart="key(this,1)">7</div></li><li><div ontouchstart="key(this,1)">8</div></li><li><div ontouchstart="key(this,1)">9</div></li><li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul></div></div>'}else{if($keybordType=="cardPwd"){var c=[0,1,2,3,4,5,6,7,8,9];c.sort(function(){return 0.5-Math.random()});var a="<ul>";for(var b=0;b<10;b++){a=a+'<li><div ontouchstart="key(this,1)">'+c[b]+"</div></li>";if(b==7){a=a+'<li><div onclick="key(this,2)"><em>取消</em></div></li>'}if(b==9){a=a+'<li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul>'}}e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-title"><span>银联安全键盘</span><br/>采用银联标准加密技术加密传输，保证密码输入安全</div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw"><div class="input-div"><input type="password" class="key-input" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div></div><div class="keyboard-key">'+a+"</div></div>"}else{if($keybordType=="creditPwd"){_currYear=$currDate.substring(0,4);_currMonth=$currDate.substring(4);var d="";var f="";for(var b=0;b<12;b++){d=d+"<option value='"+(parseInt(_currYear)+b)+"'>"+(parseInt(_currYear)+b)+"年</option>"}for(var b=0;b<12;b++){f=f+"<option value='"+((b+1)<10?"0"+(b+1):(b+1))+"'>"+((b+1)<10?"0"+(b+1):(b+1))+"月</option>"}var c=[0,1,2,3,4,5,6,7,8,9];c.sort(function(){return 0.5-Math.random()});var a="<ul>";for(var b=0;b<10;b++){a=a+'<li><div ontouchstart="key(this,1)">'+c[b]+"</div></li>";if(b==7){a=a+'<li><div onclick="key(this,2)"><em>取消</em></div></li>'}if(b==9){a=a+'<li><div ontouchstart="key(this,3)"><span>&nbsp;</span></div></li></ul>'}}e='<div class="js-keyboard-bg"></div><div class="js-keyboard"><div class="keyboard-title"><span>银联安全键盘</span><br/>采用银联标准加密技术加密传输，保证密码输入安全</div><div class="wf-err-tip" style="display: none; opacity: 1;"></div><div class="keyboard-psw2"><div class="input-div2"><div class="input-select"><div class="select_div"><select class="select_year"><option value="">-有效期年-</option>'+d+'</select></div>&nbsp;&nbsp;&nbsp;<div class="select_div"><select class="select_month"><option value="">-有效期月-</option>'+f+'</select></div></div><div class="input-title">有效期</div></div><div class="keyboard-psw"><div class="input-div-credit"><input type="password" class="key-input1" readonly placeholder="'+$placeholder+'" /></div><div class="input-btn" onclick="getkeyboard()">确定</div><div class="input-title">信用卡CVN2</div></div><div class="keyboard-key">'+a+"</div></div>"}}}}if(IsPC()){e=e.replace(/ontouchstart/g,"onclick")}$page.append(e)}function IsPC(){var a=navigator.userAgent;var d=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var b=true;for(var c=0;c<d.length;c++){if(a.indexOf(d[c])>0){b=false;break}}return b}function keyDown(){$(".js-keyboard-bg").show(100);$(".js-keyboard").show(200)}function keyUp(){$(".js-keyboard").remove();$(".js-keyboard-bg").remove()}function key(b,a){if($keybordType=="idNum"||$keybordType=="accCard"){keyNumber(b,a)}else{if($keybordType=="cardPwd"||$keybordType=="creditPwd"){keyPwd(b,a)}}}function showMsg(b){var a=$(".js-keyboard .wf-err-tip");if(a.data("animated")){return}a.data("animated",true);a.html($errorMsg);if(typeof b!="undefined"&&b!=""){a.html(b)}a.show();setTimeout(function(){a.hide().css("opacity",1).data("animated",false)},2000)}function getkeyboard(){if($keybordType=="idNum"||$keybordType=="accCard"){getNumberkeyboard()}else{if($keybordType=="cardPwd"||$keybordType=="creditPwd"){getPwdkeyboard()}}}function keyNumber(e,d){var b=$(".key-input");var a=b.val();if(d==1){if(a.replace(/ /g,"").length>=$maxLen){return false}var c=a+e.innerHTML;if($keybordType=="accCard"){c=formatAccCard(c)}b.val(c)}else{if(d==2){b.val("");keyUp()}else{if(d==3){var c=a.replace(/ /g,"");c=c.slice(0,-1);if($keybordType=="accCard"){c=formatAccCard(c)}b.val(c)}}}}function formatAccCard(a){var a=a.replace(/ /g,"");for(var b=0;b<Math.floor((a.length-b)/4);b++){a=a.substring(0,5*b+4)+" "+a.substring(5*b+4)}return a}function getNumberkeyboard(){var a=$(".key-input").val();if($checkFunction(a)){$($inputEle).val(a);if($keybordType=="accCard"){$page.find(".iBankAcc").val(a.replace(/ /g,""))}keyUp()}else{$(".key-input").css("background-color","rgb(255, 231, 231);");showMsg()}}function checkInputOnChange(b,a){if($checkFunction(a)){b.css("background-color","#fff")}else{b.css("background-color","rgb(255, 231, 231);")}}function keyPwd(e,d){var b=$(".key-input");if($keybordType=="creditPwd"){b=$(".key-input1")}var a=b.val();if(d==1){if(a.length>=$maxLen){return false}var c=a+e.innerHTML;b.val(c)}else{if(d==2){b.val("");keyUp();return true}else{if(d==3){var c=a.slice(0,-1);b.val(c)}}}}function getPwdkeyboard(){if($keybordType=="cardPwd"){var d=$(".key-input");var b=d.val();if(!$checkFunction(b)){$(".key-input").css("background-color","rgb(255, 231, 231);");showMsg();return false}try{var f=new RSAKey();f.setPublic(rsaModule,rsaExponent);var l=b;var g=l.length<10?("0"+l.length):(l.length);var a=g+l+$dnaOrderId;if($pwdDirectEnc){a=l}var j=f.encrypt(a);var c=hex2b64(j);$page.find(".pwd").val(c);$($inputEle).val("******")}catch(i){console.log(i)}}else{if($keybordType=="creditPwd"){var d=$(".key-input1");var k=$(".select_year").val();var h=$(".select_month").val();var m=d.val();if(k==""||h==""){$(".key-input").css("background-color","rgb(255, 231, 231);");showMsg("请选择正确的有效期！");return false}if(_currYear==k&&parseInt(_currMonth)>parseInt(h)){$(".key-input").css("background-color","rgb(255, 231, 231);");showMsg("有效期不能小于当前年月！");return false}if(!$checkFunction(m)){$(".key-input").css("background-color","rgb(255, 231, 231);");showMsg();return false}try{var f=new RSAKey();f.setPublic(rsaModule,rsaExponent);if(k.length==4){k=k.substring(2)}var l=h+k+m;var g=l.length<10?("0"+l.length):(l.length);var a=g+l+$dnaOrderId;var j=f.encrypt(a);var c=hex2b64(j);$page.find(".pwd").val(c);$($inputEle).val("******")}catch(i){console.log(i)}}}keyUp()};var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64padchar="=";function hex2b64(d){var b;var e;var a="";for(b=0;b+3<=d.length;b+=3){e=parseInt(d.substring(b,b+3),16);a+=b64map.charAt(e>>6)+b64map.charAt(e&63)}if(b+1==d.length){e=parseInt(d.substring(b,b+1),16);a+=b64map.charAt(e<<2)}else{if(b+2==d.length){e=parseInt(d.substring(b,b+2),16);a+=b64map.charAt(e>>2)+b64map.charAt((e&3)<<4)}}while((a.length&3)>0){a+=b64padchar}return a}function b64tohex(e){var c="";var d;var a=0;var b;for(d=0;d<e.length;++d){if(e.charAt(d)==b64padchar){break}v=b64map.indexOf(e.charAt(d));if(v<0){continue}if(a==0){c+=int2char(v>>2);b=v&3;a=1}else{if(a==1){c+=int2char((b<<2)|(v>>4));b=v&15;a=2}else{if(a==2){c+=int2char(b);c+=int2char(v>>2);b=v&3;a=3}else{c+=int2char((b<<2)|(v>>4));c+=int2char(v&15);a=0}}}}if(a==1){c+=int2char(b<<2)}return c}function b64toBA(e){var d=b64tohex(e);var c;var b=new Array();for(c=0;2*c<d.length;++c){b[c]=parseInt(d.substring(2*c,2*c+2),16)}return b};var dbits;var canary=244837814094590;var j_lm=((canary&16777215)==15715070);function BigInteger(e,d,f){if(e!=null){if("number"==typeof e){this.fromNumber(e,d,f)}else{if(d==null&&"string"!=typeof e){this.fromString(e,256)}else{this.fromString(e,d)}}}}function nbi(){return new BigInteger(null)}function am1(f,a,b,e,h,g){while(--g>=0){var d=a*this[f++]+b[e]+h;h=Math.floor(d/67108864);b[e++]=d&67108863}return h}function am2(f,q,r,e,o,a){var k=q&32767,p=q>>15;while(--a>=0){var d=this[f]&32767;var g=this[f++]>>15;var b=p*d+g*k;d=k*d+((b&32767)<<15)+r[e]+(o&1073741823);o=(d>>>30)+(b>>>15)+p*g+(o>>>30);r[e++]=d&1073741823}return o}function am3(f,q,r,e,o,a){var k=q&16383,p=q>>14;while(--a>=0){var d=this[f]&16383;var g=this[f++]>>14;var b=p*d+g*k;d=k*d+((b&16383)<<14)+r[e]+o;o=(d>>28)+(b>>14)+p*g;r[e++]=d&268435455}return o}if(j_lm&&(navigator.appName=="Microsoft Internet Explorer")){BigInteger.prototype.am=am2;dbits=30}else{if(j_lm&&(navigator.appName!="Netscape")){BigInteger.prototype.am=am1;dbits=26}else{BigInteger.prototype.am=am3;dbits=28}}BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=((1<<dbits)-1);BigInteger.prototype.DV=(1<<dbits);var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";var BI_RC=new Array();var rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv){BI_RC[rr++]=vv}rr="a".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}rr="A".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}function int2char(a){return BI_RM.charAt(a)}function intAt(b,a){var d=BI_RC[b.charCodeAt(a)];return(d==null)?-1:d}function bnpCopyTo(b){for(var a=this.t-1;a>=0;--a){b[a]=this[a]}b.t=this.t;b.s=this.s}function bnpFromInt(a){this.t=1;this.s=(a<0)?-1:0;if(a>0){this[0]=a}else{if(a<-1){this[0]=a+this.DV}else{this.t=0}}}function nbv(a){var b=nbi();b.fromInt(a);return b}function bnpFromString(h,c){var e;if(c==16){e=4}else{if(c==8){e=3}else{if(c==256){e=8}else{if(c==2){e=1}else{if(c==32){e=5}else{if(c==4){e=2}else{this.fromRadix(h,c);return}}}}}}this.t=0;this.s=0;var g=h.length,d=false,f=0;while(--g>=0){var a=(e==8)?h[g]&255:intAt(h,g);if(a<0){if(h.charAt(g)=="-"){d=true}continue}d=false;if(f==0){this[this.t++]=a}else{if(f+e>this.DB){this[this.t-1]|=(a&((1<<(this.DB-f))-1))<<f;this[this.t++]=(a>>(this.DB-f))}else{this[this.t-1]|=a<<f}}f+=e;if(f>=this.DB){f-=this.DB}}if(e==8&&(h[0]&128)!=0){this.s=-1;if(f>0){this[this.t-1]|=((1<<(this.DB-f))-1)<<f}}this.clamp();if(d){BigInteger.ZERO.subTo(this,this)}}function bnpClamp(){var a=this.s&this.DM;while(this.t>0&&this[this.t-1]==a){--this.t}}function bnToString(c){if(this.s<0){return"-"+this.negate().toString(c)}var e;if(c==16){e=4}else{if(c==8){e=3}else{if(c==2){e=1}else{if(c==32){e=5}else{if(c==4){e=2}else{return this.toRadix(c)}}}}}var g=(1<<e)-1,l,a=false,h="",f=this.t;var j=this.DB-(f*this.DB)%e;if(f-->0){if(j<this.DB&&(l=this[f]>>j)>0){a=true;h=int2char(l)}while(f>=0){if(j<e){l=(this[f]&((1<<j)-1))<<(e-j);l|=this[--f]>>(j+=this.DB-e)}else{l=(this[f]>>(j-=e))&g;if(j<=0){j+=this.DB;--f}}if(l>0){a=true}if(a){h+=int2char(l)}}}return a?h:"0"}function bnNegate(){var a=nbi();BigInteger.ZERO.subTo(this,a);return a}function bnAbs(){return(this.s<0)?this.negate():this}function bnCompareTo(b){var d=this.s-b.s;if(d!=0){return d}var c=this.t;d=c-b.t;if(d!=0){return(this.s<0)?-d:d}while(--c>=0){if((d=this[c]-b[c])!=0){return d}}return 0}function nbits(a){var c=1,b;if((b=a>>>16)!=0){a=b;c+=16}if((b=a>>8)!=0){a=b;c+=8}if((b=a>>4)!=0){a=b;c+=4}if((b=a>>2)!=0){a=b;c+=2}if((b=a>>1)!=0){a=b;c+=1}return c}function bnBitLength(){if(this.t<=0){return 0}return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM))}function bnpDLShiftTo(c,b){var a;for(a=this.t-1;a>=0;--a){b[a+c]=this[a]}for(a=c-1;a>=0;--a){b[a]=0}b.t=this.t+c;b.s=this.s}function bnpDRShiftTo(c,b){for(var a=c;a<this.t;++a){b[a-c]=this[a]}b.t=Math.max(this.t-c,0);b.s=this.s}function bnpLShiftTo(j,e){var b=j%this.DB;var a=this.DB-b;var g=(1<<a)-1;var f=Math.floor(j/this.DB),h=(this.s<<b)&this.DM,d;for(d=this.t-1;d>=0;--d){e[d+f+1]=(this[d]>>a)|h;h=(this[d]&g)<<b}for(d=f-1;d>=0;--d){e[d]=0}e[f]=h;e.t=this.t+f+1;e.s=this.s;e.clamp()}function bnpRShiftTo(g,d){d.s=this.s;var e=Math.floor(g/this.DB);if(e>=this.t){d.t=0;return}var b=g%this.DB;var a=this.DB-b;var f=(1<<b)-1;d[0]=this[e]>>b;for(var c=e+1;c<this.t;++c){d[c-e-1]|=(this[c]&f)<<a;d[c-e]=this[c]>>b}if(b>0){d[this.t-e-1]|=(this.s&f)<<a}d.t=this.t-e;d.clamp()}function bnpSubTo(d,f){var e=0,g=0,b=Math.min(d.t,this.t);while(e<b){g+=this[e]-d[e];f[e++]=g&this.DM;g>>=this.DB}if(d.t<this.t){g-=d.s;while(e<this.t){g+=this[e];f[e++]=g&this.DM;g>>=this.DB}g+=this.s}else{g+=this.s;while(e<d.t){g-=d[e];f[e++]=g&this.DM;g>>=this.DB}g-=d.s}f.s=(g<0)?-1:0;if(g<-1){f[e++]=this.DV+g}else{if(g>0){f[e++]=g}}f.t=e;f.clamp()}function bnpMultiplyTo(c,e){var b=this.abs(),f=c.abs();var d=b.t;e.t=d+f.t;while(--d>=0){e[d]=0}for(d=0;d<f.t;++d){e[d+b.t]=b.am(0,f[d],e,d,0,b.t)}e.s=0;e.clamp();if(this.s!=c.s){BigInteger.ZERO.subTo(e,e)}}function bnpSquareTo(d){var a=this.abs();var b=d.t=2*a.t;while(--b>=0){d[b]=0}for(b=0;b<a.t-1;++b){var e=a.am(b,a[b],d,2*b,0,1);if((d[b+a.t]+=a.am(b+1,2*a[b],d,2*b+1,e,a.t-b-1))>=a.DV){d[b+a.t]-=a.DV;d[b+a.t+1]=1}}if(d.t>0){d[d.t-1]+=a.am(b,a[b],d,2*b,0,1)}d.s=0;d.clamp()}function bnpDivRemTo(n,h,g){var w=n.abs();if(w.t<=0){return}var k=this.abs();if(k.t<w.t){if(h!=null){h.fromInt(0)}if(g!=null){this.copyTo(g)}return}if(g==null){g=nbi()}var d=nbi(),a=this.s,l=n.s;var v=this.DB-nbits(w[w.t-1]);if(v>0){w.lShiftTo(v,d);k.lShiftTo(v,g)}else{w.copyTo(d);k.copyTo(g)}var p=d.t;var b=d[p-1];if(b==0){return}var o=b*(1<<this.F1)+((p>1)?d[p-2]>>this.F2:0);var A=this.FV/o,z=(1<<this.F1)/o,x=1<<this.F2;var u=g.t,s=u-p,f=(h==null)?nbi():h;d.dlShiftTo(s,f);if(g.compareTo(f)>=0){g[g.t++]=1;g.subTo(f,g)}BigInteger.ONE.dlShiftTo(p,f);f.subTo(d,d);while(d.t<p){d[d.t++]=0}while(--s>=0){var c=(g[--u]==b)?this.DM:Math.floor(g[u]*A+(g[u-1]+x)*z);if((g[u]+=d.am(0,c,g,s,0,p))<c){d.dlShiftTo(s,f);g.subTo(f,g);while(g[u]<--c){g.subTo(f,g)}}}if(h!=null){g.drShiftTo(p,h);if(a!=l){BigInteger.ZERO.subTo(h,h)}}g.t=p;g.clamp();if(v>0){g.rShiftTo(v,g)}if(a<0){BigInteger.ZERO.subTo(g,g)}}function bnMod(b){var c=nbi();this.abs().divRemTo(b,null,c);if(this.s<0&&c.compareTo(BigInteger.ZERO)>0){b.subTo(c,c)}return c}function Classic(a){this.m=a}function cConvert(a){if(a.s<0||a.compareTo(this.m)>=0){return a.mod(this.m)}else{return a}}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,c,b){a.multiplyTo(c,b);this.reduce(b)}function cSqrTo(a,b){a.squareTo(b);this.reduce(b)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1){return 0}var a=this[0];if((a&1)==0){return 0}var b=a&3;b=(b*(2-(a&15)*b))&15;b=(b*(2-(a&255)*b))&255;b=(b*(2-(((a&65535)*b)&65535)))&65535;b=(b*(2-a*b%this.DV))%this.DV;return(b>0)?this.DV-b:-b}function Montgomery(a){this.m=a;this.mp=a.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(a.DB-15))-1;this.mt2=2*a.t}function montConvert(a){var b=nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);if(a.s<0&&b.compareTo(BigInteger.ZERO)>0){this.m.subTo(b,b)}return b}function montRevert(a){var b=nbi();a.copyTo(b);this.reduce(b);return b}function montReduce(a){while(a.t<=this.mt2){a[a.t++]=0}for(var c=0;c<this.m.t;++c){var b=a[c]&32767;var d=(b*this.mpl+(((b*this.mph+(a[c]>>15)*this.mpl)&this.um)<<15))&a.DM;b=c+this.m.t;a[b]+=this.m.am(0,d,a,c,0,this.m.t);while(a[b]>=a.DV){a[b]-=a.DV;a[++b]++}}a.clamp();a.drShiftTo(this.m.t,a);if(a.compareTo(this.m)>=0){a.subTo(this.m,a)}}function montSqrTo(a,b){a.squareTo(b);this.reduce(b)}function montMulTo(a,c,b){a.multiplyTo(c,b);this.reduce(b)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return((this.t>0)?(this[0]&1):this.s)==0}function bnpExp(h,j){if(h>4294967295||h<1){return BigInteger.ONE}var f=nbi(),a=nbi(),d=j.convert(this),c=nbits(h)-1;d.copyTo(f);while(--c>=0){j.sqrTo(f,a);if((h&(1<<c))>0){j.mulTo(a,d,f)}else{var b=f;f=a;a=b}}return j.revert(f)}function bnModPowInt(b,a){var c;if(b<256||a.isEven()){c=new Classic(a)}else{c=new Montgomery(a)}return this.exp(b,c)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);function Arcfour(){this.i=0;this.j=0;this.S=new Array()}function ARC4init(d){var c,a,b;for(c=0;c<256;++c){this.S[c]=c}a=0;for(c=0;c<256;++c){a=(a+this.S[c]+d[c%d.length])&255;b=this.S[c];this.S[c]=this.S[a];this.S[a]=b}this.i=0;this.j=0}function ARC4next(){var a;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;a=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=a;return this.S[(a+this.S[this.i])&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour()}var rng_psize=256;var rng_state;var rng_pool;var rng_pptr;function rng_seed_int(a){rng_pool[rng_pptr++]^=a&255;rng_pool[rng_pptr++]^=(a>>8)&255;rng_pool[rng_pptr++]^=(a>>16)&255;rng_pool[rng_pptr++]^=(a>>24)&255;if(rng_pptr>=rng_psize){rng_pptr-=rng_psize}}function rng_seed_time(){rng_seed_int(new Date().getTime())}if(rng_pool==null){rng_pool=new Array();rng_pptr=0;var t;if(window.crypto&&window.crypto.getRandomValues){var ua=new Uint8Array(32);window.crypto.getRandomValues(ua);for(t=0;t<32;++t){rng_pool[rng_pptr++]=ua[t]}}if(navigator.appName=="Netscape"&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t){rng_pool[rng_pptr++]=z.charCodeAt(t)&255}}while(rng_pptr<rng_psize){t=Math.floor(65536*Math.random());rng_pool[rng_pptr++]=t>>>8;rng_pool[rng_pptr++]=t&255}rng_pptr=0;rng_seed_time()}function rng_get_byte(){if(rng_state==null){rng_seed_time();rng_state=prng_newstate();rng_state.init(rng_pool);for(rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr){rng_pool[rng_pptr]=0}rng_pptr=0}return rng_state.next()}function rng_get_bytes(b){var a;for(a=0;a<b.length;++a){b[a]=rng_get_byte()}}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;function parseBigInt(b,a){return new BigInteger(b,a)}function linebrk(c,d){var a="";var b=0;while(b+d<c.length){a+=c.substring(b,b+d)+"\n";b+=d}return a+c.substring(b,c.length)}function byte2Hex(a){if(a<16){return"0"+a.toString(16)}else{return a.toString(16)}}function pkcs1pad2(e,h){if(h<e.length+11){alert("Message too long for RSA");return null}var g=new Array();var d=e.length-1;while(d>=0&&h>0){var f=e.charCodeAt(d--);if(f<128){g[--h]=f}else{if((f>127)&&(f<2048)){g[--h]=(f&63)|128;g[--h]=(f>>6)|192}else{g[--h]=(f&63)|128;g[--h]=((f>>6)&63)|128;g[--h]=(f>>12)|224}}}g[--h]=0;var b=new SecureRandom();var a=new Array();while(h>2){a[0]=0;while(a[0]==0){b.nextBytes(a)}g[--h]=a[0]}g[--h]=2;g[--h]=0;return new BigInteger(g)}function RSAKey(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function RSASetPublic(b,a){if(b!=null&&a!=null&&b.length>0&&a.length>0){this.n=parseBigInt(b,16);this.e=parseInt(a,16)}else{alert("Invalid RSA public key")}}function RSADoPublic(a){return a.modPowInt(this.e,this.n)}function RSAEncrypt(d){var a=pkcs1pad2(d,(this.n.bitLength()+7)>>3);if(a==null){return null}var e=this.doPublic(a);if(e==null){return null}var b=e.toString(16);if((b.length&1)==0){return b}else{return"0"+b}}RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.encrypt=RSAEncrypt;/*!
 * mDialog v1.3.1
 * Copyright 2013-2014 Frans.Lee, http://www.ifrans.cn
 * v1.3.1 2014-04-23 #修复一处自定义class相关的问题
 * v1.3 2014-04-01 #优化弹窗内容过多时的上下滑动体验
 * v1.2 2014-03-18 #修复一处问题，兼容android 2.3.x
 * v1.1 2014-02-19 #阻止touchmove事件
 */
;(function(){var b='<div class="ui-dialog-inner"><div class="ui-dialog-header"><h2 class="ui-dialog-title"></h2><a href="javascript:;" class="ui-dialog-btn ui-dialog-close-btn"></a></div><div class="ui-dialog-cont-wrapper"><div class="ui-dialog-content"></div></div><div class="ui-dialog-btn-wrapper"></div></div>';var a=function(g,f){f=f||{};var d=a.config;var c=(f.cancelBtn&&!f.cancelBtn.hide)?false:true;for(var h in d){f[h]=f[h]===undefined?d[h]:f[h];if(Object.prototype.toString.call(d[h]).toLowerCase()=="[object object]"){for(var e in d[h]){f[h][e]=f[h][e]===undefined?d[h][e]:f[h][e]}}}f.cancelBtn.hide=c;a.config.zIndex=f.zIndex;return new a.prototype.init(g,f)};a.prototype={constructor:a,init:function(j,f){if(!j){return}var h,d=true,g=this;if(g.elems(".ui-dialog")){var e=0,c=g.elems(".ui-dialog").length;while(e<c){if(g.elems(".ui-dialog")[e].style.display=="none"){h=g.elems(".ui-dialog")[e];d=false;break}e++}}this.DOM=h=h||document.createElement("div");h.innerHTML=b;h.className="ui-dialog "+(f.mask?"ui-dialog-mask ":"")+f.addClass;g.domElem(".ui-dialog-title").innerText=f.title;g.domElem(".ui-dialog-content").innerHTML=j;h.style.zIndex=a.config.zIndex++;h.id=f.id;g.createBtn(f);if(d){h.addEventListener("touchmove",function(i){i.target.className!="ui-dialog-content"&&i.preventDefault()});document.body.appendChild(h)}else{h.style.display=""}return this},domElem:function(c){return this.DOM.querySelector(c)},elems:function(c){return document.querySelectorAll(c)},close:function(c){(c||this.DOM).style.display="none";return false},createBtn:function(d){var f=this,e=this.DOM,c="";f.domElem(".ui-dialog-close-btn").style.display=d.closeBtn.hide?"none":"";if(d.isLoading){f.domElem(".ui-dialog-cont-wrapper").style.borderBottom="0";f.domElem(".ui-dialog-btn-wrapper").style.display="none";f.domElem(".ui-dialog-mask .ui-dialog-inner").style.width="50%"}if(!d.okBtn.hide){c+='<a href="javascript:;" class="ui-dialog-btn btn-a ok-btn">'+d.okBtn.text+"</a>"}if(!d.cancelBtn.hide){c+='<a href="javascript:;" class="ui-dialog-btn btn-b cancel-btn">'+d.cancelBtn.text+"</a>"}f.domElem(".ui-dialog-btn-wrapper").innerHTML=c;if(f.domElem(".ok-btn")){f.domElem(".ok-btn").addEventListener("click",function(){if(d.okBtn.callback&&d.okBtn.callback.call(f)==false){return}f.close()},false)}if(f.domElem(".cancel-btn")){f.domElem(".cancel-btn").addEventListener("click",function(){if(d.cancelBtn.callback&&d.cancelBtn.callback.call(f)==false){return}f.close()},false)}if(f.domElem(".ui-dialog-close-btn")){f.domElem(".ui-dialog-close-btn").addEventListener("click",function(){if(d.closeBtn.callback&&d.closeBtn.callback.call(f)==false){return}f.close()},false)}}};a.close=function(c){if(!c){return}a().close(c)};a.config={title:"提示信息",mask:true,id:"",addClass:"",zIndex:9900,okBtn:{hide:false,text:"确定",callback:null},cancelBtn:{hide:false,text:"取消",callback:null},closeBtn:{hide:false,callback:null}};a.prototype.init.prototype=a.prototype;window.mDialog=a})(window,undefined);